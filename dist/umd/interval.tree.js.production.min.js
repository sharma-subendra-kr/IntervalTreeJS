/** @license IntervalTreeJS

IntervalTreeJS, a JavaScript Binary Search Tree library that helps to query, insert and delete intervals in the binary search tree.

Copyright © 2019-2020 Subendra Kumar Sharma. All Rights reserved. (jobs.sharma.subendra.kr@gmail.com)

This file is part of IntervalTreeJS.

IntervalTreeJS is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.

IntervalTreeJS is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.

You should have received a copy of the GNU General Public License
along with IntervalTreeJS.  If not, see <https://www.gnu.org/licenses/>.

Written by Subendra Kumar Sharma.

*/
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.IntervalTreeJS=e():t.IntervalTreeJS=e()}(window,(function(){return function(t){var e={};function r(i){if(e[i])return e[i].exports;var n=e[i]={i:i,l:!1,exports:{}};return t[i].call(n.exports,n,n.exports,r),n.l=!0,n.exports}return r.m=t,r.c=e,r.d=function(t,e,i){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(i,n,function(e){return t[e]}.bind(null,n));return i},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="assets",r(r.s=5)}([function(t,e,r){"use strict";
/** @license Stack

Stack, a JavaScript LIFO stack Data Structure.

Copyright © 2019-2020 Subendra Kumar Sharma. All Rights reserved. (jobs.sharma.subendra.kr@gmail.com)

This file is part of Stack.

Stack is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.

Stack is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.

You should have received a copy of the GNU General Public License
along with Stack.  If not, see <https://www.gnu.org/licenses/>.

Written by Subendra Kumar Sharma.

*/t.exports=r(2)},function(t,e,r){"use strict";
/** @license Queue

Queue, a JavaScript FIFO Queue.

Copyright © 2019-2020 Subendra Kumar Sharma. All Rights reserved. (jobs.sharma.subendra.kr@gmail.com)

This file is part of Queue.

Queue is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.

Queue is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.

You should have received a copy of the GNU General Public License
along with Queue.  If not, see <https://www.gnu.org/licenses/>.

Written by Subendra Kumar Sharma.

*/t.exports=r(3)},function(t,e,r){
/** @license Stack

Stack, a JavaScript LIFO stack Data Structure.

Copyright © 2019-2020 Subendra Kumar Sharma. All Rights reserved. (jobs.sharma.subendra.kr@gmail.com)

This file is part of Stack.

Stack is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.

Stack is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.

You should have received a copy of the GNU General Public License
along with Stack.  If not, see <https://www.gnu.org/licenses/>.

Written by Subendra Kumar Sharma.

*/
window,t.exports=function(t){var e={};function r(i){if(e[i])return e[i].exports;var n=e[i]={i:i,l:!1,exports:{}};return t[i].call(n.exports,n,n.exports,r),n.l=!0,n.exports}return r.m=t,r.c=e,r.d=function(t,e,i){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(i,n,function(e){return t[e]}.bind(null,n));return i},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="assets",r(r.s=0)}([function(t,e,r){"use strict";r.r(e),r.d(e,"ArrayStack",(function(){return n})),r.d(e,"ListStack",(function(){return o}));var i=function(t){this.initialSize=t.initialSize||100,this.length=this.initialSize,this.stack=new Array(this.length),this.ptr=-1,t&&Array.isArray(t.data)&&this.constructStack(t.data,t.constructReverse)};i.prototype.constructor=i,i.prototype.constructStack=function(t,e){var r=t.length;if(e)for(var i=r-1;i>=0;i--)this.push(t[i]);else for(var n=0;n<r;n++)this.push(t[n])},i.prototype.push=function(t){return null!=t&&(this.ptr===this.length-1&&this.resize(),this.stack[++this.ptr]=t,this.ptr+1)},i.prototype.pop=function(){if(this.ptr>=0){var t=this.stack[this.ptr];return this.ptr--,t}},i.prototype.resize=function(){var t=this.length,e=this.stack;this.length=2*this.length,this.stack=new Array(this.length);for(var r=0;r<t;r++)this.stack[r]=e[r]},i.prototype.isEmpty=function(){return this.ptr<0},i.prototype.peak=function(){if(this.ptr>=0)return this.stack[this.ptr]},i.prototype.getData=function(){for(var t=new Array(this.ptr+1),e=0;e<=this.ptr;e++)t[e]=this.stack[e];return t},i.prototype.getSize=function(){return this.ptr+1},i.prototype.empty=function(){this.ptr=-1},i.prototype.wipe=function(){this.length=this.initialSize,this.stack=new Array(this.length),this.ptr=-1};var n=i;function l(t){this.length=0,this.HEAD=null,t&&Array.isArray(t.data)&&this.constructStack(t.data,t.constructReverse)}l.prototype.constructor=l,l.prototype.constructNode=function(t){return{next:null,d:t}},l.prototype.constructStack=function(t,e){var r,i=t.length;if(e)for(r=i-1;r>=0;r--)this.push(t[r]);else for(r=0;r<i;r++)this.push(t[r])},l.prototype.push=function(t){var e=this.constructNode(t);return this.HEAD?(e.next=this.HEAD,this.HEAD=e):this.HEAD=e,++this.length},l.prototype.pop=function(){if(this.HEAD){var t=this.HEAD;return this.HEAD=this.HEAD.next,t.next=null,this.length--,t.d}},l.prototype.isEmpty=function(){return!this.HEAD},l.prototype.peak=function(){var t;return null===(t=this.HEAD)||void 0===t?void 0:t.d},l.prototype.getData=function(){for(var t=this.HEAD,e=new Array(this.length),r=0;null!=t;)e[r++]=t.d,t=t.next;return e},l.prototype.getSize=function(){return this.length},l.prototype.empty=function(){this.HEAD=null,this.length=0};var o=l;
/** @license Stack

Stack, a JavaScript LIFO stack Data Structure.

Copyright © 2019-2020 Subendra Kumar Sharma. All Rights reserved. (jobs.sharma.subendra.kr@gmail.com)

This file is part of Stack.

Stack is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.

Stack is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.

You should have received a copy of the GNU General Public License
along with Stack.  If not, see <https://www.gnu.org/licenses/>.

Written by Subendra Kumar Sharma.

*/}])},function(t,e,r){
/** @license Queue

Queue, a JavaScript FIFO Queue.

Copyright © 2019-2020 Subendra Kumar Sharma. All Rights reserved. (jobs.sharma.subendra.kr@gmail.com)

This file is part of Queue.

Queue is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.

Queue is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.

You should have received a copy of the GNU General Public License
along with Queue.  If not, see <https://www.gnu.org/licenses/>.

Written by Subendra Kumar Sharma.

*/
window,t.exports=function(t){var e={};function r(i){if(e[i])return e[i].exports;var n=e[i]={i:i,l:!1,exports:{}};return t[i].call(n.exports,n,n.exports,r),n.l=!0,n.exports}return r.m=t,r.c=e,r.d=function(t,e,i){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(i,n,function(e){return t[e]}.bind(null,n));return i},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="assets",r(r.s=0)}([function(t,e,r){"use strict";function i(t){this.maxSize=t.maxSize,this.length=0,this.HEAD=null,this.TAIL=null,t&&Array.isArray(t.data)&&this.constructQueue(t.data,t.constructReverse)}r.r(e),r.d(e,"ArrayQueue",(function(){return o})),r.d(e,"ListQueue",(function(){return n})),i.prototype.constructor=i,i.prototype.constructNode=function(t){return{next:null,prev:null,d:t}},i.prototype.constructQueue=function(t,e){var r,i=t.length;if(e)for(r=i-1;r>=0;r--)this.enqueue(t[r]);else for(r=0;r<i;r++)this.enqueue(t[r])},i.prototype.enqueue=function(t){var e=this.constructNode(t);return this.HEAD?(e.next=this.HEAD,this.HEAD.prev=e,this.HEAD=e):(this.HEAD=e,this.TAIL=e),this.length+1>this.maxSize&&this.dequeue(),++this.length},i.prototype.dequeue=function(){if(this.TAIL){this.TAIL===this.HEAD&&(this.HEAD=null);var t=this.TAIL;return this.TAIL=this.TAIL.prev,this.TAIL&&(this.TAIL.next=null),t.prev=null,this.length--,t.d}},i.prototype.isEmpty=function(){return!this.HEAD},i.prototype.peak=function(){var t;return null===(t=this.TAIL)||void 0===t?void 0:t.d},i.prototype.getData=function(){for(var t=this.HEAD,e=new Array(this.length),r=0;null!=t;)e[r++]=t.d,t=t.next;return e},i.prototype.getSize=function(){return this.length},i.prototype.empty=function(){this.HEAD=null,this.TAIL=null,this.length=0};var n=i;function l(t){this.maxSize=t.maxSize,this.initialSize=t.initialSize||100,this.length=this.initialSize,this.queue=new Array(this.length),this.front=0,this.rear=-1,t&&Array.isArray(t.data)&&this.constructQueue(t.data,t.constructReverse)}l.prototype.constructor=l,l.prototype.constructQueue=function(t,e){var r=t.length;if(e)for(var i=r-1;i>=0;i--)this.enqueue(t[i]);else for(var n=0;n<r;n++)this.enqueue(t[n])},l.prototype.enqueue=function(t){return null!=t&&(this.rear===this.length-1&&this.resize(),this.queue[++this.rear]=t,this.rear-this.front+1>this.maxSize&&this.dequeue(),this.rear-this.front+1)},l.prototype.dequeue=function(){if(this.front<=this.rear)return this.queue[this.front++]},l.prototype.resize=function(){var t;this.rear-this.front+1<this.length/2?t=this.queue:(this.length*=2,t=new Array(this.length));for(var e=this.front,r=0;r<=this.rear-this.front;r++)t[r]=this.queue[e++];this.rear=this.rear-this.front,this.front=0,this.queue=t},l.prototype.isEmpty=function(){return this.front>this.rear},l.prototype.peak=function(){if(this.front<=this.rear)return this.queue[this.rear]},l.prototype.getData=function(){for(var t=this.rear-this.front+1,e=new Array(t),r=this.front,i=0;i<t;i++)e[i]=this.queue[r++];return e},l.prototype.getSize=function(){return this.rear-this.front+1},l.prototype.empty=function(){this.front=0,this.rear=-1},l.prototype.wipe=function(){this.length=this.initialSize,this.stack=new Array(this.length),this.front=0,this.rear=-1};var o=l;
/** @license Queue

Queue, a JavaScript FIFO Queue.

Copyright © 2019-2020 Subendra Kumar Sharma. All Rights reserved. (jobs.sharma.subendra.kr@gmail.com)

This file is part of Queue.

Queue is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.

Queue is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.

You should have received a copy of the GNU General Public License
along with Queue.  If not, see <https://www.gnu.org/licenses/>.

Written by Subendra Kumar Sharma.

*/}])},function(t,e,r){},function(t,e,r){"use strict";r.r(e),r.d(e,"IntervalTreesRecursive",(function(){return a})),r.d(e,"IntervalTreesIterative",(function(){return p}));var i=r(0),n=function(t,e){var r=t,n=new i.ArrayStack({initialSize:e});for(n.push(r);null!==r.left;)r=r.left,n.push(r);for(var l=r.interval.low,s=n.ptr,u=null,h=new Array(s+1),a=-1;s>=0&&n.stack[s].interval.low===l;)u=n.stack[s],s--,h[++a]=u;h.length=a+1,s>=0&&(null!==u.right?(n.stack[s].left=u.right,u.right=null):n.stack[s].left=null);for(var c=s;c>=0;){var f=o(n.stack[c]);n.stack[c].min=f.min,n.stack[c].max=f.max,c--}return{top:u,current:r,right:u!==r?u===t?u.right:t:r===t?r.right:t,currentToTopArr:h}},l=function(t){for(var e=0,r=t.length;e<r;){var i=o(t[e]);t[e].min=i.min,t[e].max=i.max,e++}},o=function(t){var e,r,i,n,l,o,s,u=t.interval.low,h=t.interval.high,a=isNaN(null===(e=t.left)||void 0===e?void 0:e.min)?null:t.left.min,c=isNaN(null===(r=t.right)||void 0===r?void 0:r.min)?null:null===(i=t.right)||void 0===i?void 0:i.min,f=isNaN(null===(n=t.left)||void 0===n?void 0:n.max)?null:null===(l=t.left)||void 0===l?void 0:l.max,p=isNaN(null===(o=t.right)||void 0===o?void 0:o.max)?null:null===(s=t.right)||void 0===s?void 0:s.max;return a<u&&null!==a&&(u=a),c<u&&null!==c&&(u=c),f>h&&null!==f&&(h=f),p>h&&null!==p&&(h=p),{min:u,max:h}},s=function(t,e){for(var r=0;t!==e;)t=t.interval.low>=e.interval.low?t.left:t.right,r++;return t===e?r++:null===t&&(r=0),r},u=function(t,e,r){var i=JSON.parse(JSON.stringify(t)),n=new Array(e),l=-1,o=0,u=-1;for(n[++l]=i;l>=0;){var h=n[l];h.id=++u,l--;var a=s(i,h)-1;a>o&&(o=a),h.level=a,null!==h.right&&(h.right.parentId=h.id,h.right.branched="right",h.right.parent=h,n[++l]=h.right),null!==h.left&&(h.left.parentId=h.id,h.left.branched="left",h.left.parent=h,n[++l]=h.left)}var c=[],f=[],p=72*Math.pow(2,o),v=new Array(e),g=-1;for(v[++g]=i;g>=0;){var d=v[g];if(g--,0===d.level)d.pos={c:p/2,x:p/2-36,y:5};else{var y=(Math.pow(2,o-d.level)-1)/2*72;"left"===d.branched?d.pos={c:d.parent.pos.c-y-36,x:d.parent.pos.c-y-72,y:5}:d.pos={c:d.parent.pos.c+y+36,x:d.parent.pos.c+y,y:5}}if(c[d.level]||(c[d.level]='<g class="interval-tree-print-level" data-attr="level-'.concat(d.level,'" transform="translate(',0,", ").concat(72*d.level,')">')),c[d.level]+='<g class="interval-tree-print-node" transform="translate('.concat(d.pos.x,", ").concat(d.pos.y,')">\n\t\t\t<text class="interval-tree-print-node-id" dx="5" dy="0">id: ').concat(d.id,'</text>\n\t\t\t<text class="interval-tree-print-node-parentId" dx="5" dy="15">pId: ').concat(isNaN(d.parentId)?"none":d.parentId,'</text>\n\t\t\t<text class="interval-tree-print-node-interval" dx="5" dy="30">l: ').concat(d.interval.low,", h: ").concat(d.interval.high,'</text>\n\t\t\t<text class="interval-tree-print-node-minmax" dx="5" dy="45">m: ').concat(d.min,", x: ").concat(d.max,"</text>\n\t\t\t").concat(r?'<text class="interval-tree-print-node-custom"  dx="5" dy="60">\n\t\t\t'.concat(r(d),"</text>"):"","\n\t\t\t</g>"),d.parent){var m='<line x1="'.concat(d.parent.pos.c,'" y1="').concat(72*d.parent.level+5+1+60+1,'" x2="').concat(d.pos.c,'" y2="').concat(72*d.level+5+1,'" class="interval-tree-print-arrow" stroke="black"/>');f.push(m)}null!==d.right&&(v[++g]=d.right),null!==d.left&&(v[++g]=d.left)}for(var w=0;w<c.length;w++)c[w]+="</g>";return'<svg class="interval-tree-print" width="'.concat(p+40,'" height="').concat(72*(o+1)+40,'"><g class="interval-tree-print-container" transform="translate(20, 20)">').concat(c.join("")).concat(f.join(""),"</g></svg>")};function h(t){this.root=null,this.length=0,Array.isArray(null==t?void 0:t.data)&&this.constructTree(t.data)}h.prototype.constructor=h,h.prototype.constructNode=function(t){return{max:t.high,min:t.low,interval:{low:t.low,high:t.high},d:t.d,left:null,right:null}},h.prototype.constructTree=function(t){for(var e=t.length,r=0;r<e;r++)this.root=this.insert(t[r],this.root)},h.prototype.insertRoot=function(t){return this.root=this.constructNode(t),this.root},h.prototype.getRoot=function(){return this.root},h.prototype.insert=function(t){return this.root=this._insert(this.root,t),this.root},h.prototype._insert=function(t,e){if(null===t)return this.length++,this.constructNode(e);if(t.interval.low>e.low)t.left=this._insert(t.left,e);else if(t.interval.low===e.low){this.length++;var r=t.left;t.left=this.constructNode(e),t.left.left=r;var i=o(t.left);t.left.min=i.min,t.left.max=i.max}else t.right=this._insert(t.right,e);return t.max<e.high&&(t.max=e.high),t.min>e.low&&(t.min=e.low),t},h.prototype.find=function(t,e,r,i){return this._find(this.root,t,e,r,i)},h.prototype._find=function(t,e,r,i,n){return null===t?null:!this.doOverlap(t.interval,e)||null!=r&&t.d!==r||n&&!n(t,e,r)?null!==t.left&&t.left.max>=e.low?this._find(t.left,e,r,i,n):this._find(t.right,e,r,i,n):t},h.prototype.findAll=function(t,e,r,i){var n=[];return this._findAll(this.root,t,e,r,i,n),n},h.prototype._findAll=function(t,e,r,i,n,l){if(null===t)return null;!this.doOverlap(t.interval,e)||null!=r&&t.d!==r||n&&!n(t,e,r)||l.push(t),null!==t.left&&t.left.max>=e.low&&this._findAll(t.left,e,r,i,n,l),null!==t.right&&t.right.min<=e.high&&this._findAll(t.right,e,r,i,n,l)},h.prototype.remove=function(t,e,r){return this._remove(this.root,t,e,r,null),null},h.prototype._remove=function(t,e,r,i,s){if(null===t)return t;var u=2*Math.ceil(Math.log2(this.length));if(t.interval.low===e.low&&t.interval.high===e.high&&(null==r||t.d===r)&&(!i||i(t,e,r))){if(s={low:t.interval.low,high:t.interval.high,d:t.d},this.length--,null===t.left)return t.right;if(null===t.right)return t.left;var h=n(t.right,u);t.interval=h.top.interval,t.d=h.top.d;var a=t.left;return t.left=h.top.left,t.right=h.right,h.current===h.top?t.left=a:h.current.left=a,l(h.currentToTopArr),t}if(t.interval.low>=e.low){t.left=this._remove(t.left,e,r,i,s);var c=o(t);t.min=c.min,t.max=c.max}else if(null!==t.right&&t.interval.low<e.low){t.right=this._remove(t.right,e,r,i,s);var f=o(t);t.min=f.min,t.max=f.max}return t},h.prototype.removeAll=function(t,e,r){var i=[];return this._removeAll(this.root,t,e,r,i),i},h.prototype._removeAll=function(t,e,r,i,s){if(null===t)return t;var u=2*Math.ceil(Math.log2(this.length));if(t.interval.low>=e.low){t.left=this._removeAll(t.left,e,r,i,s);var h=o(t);t.min=h.min,t.max=h.max}else if(null!==t.right&&t.interval.low<e.low){t.right=this._removeAll(t.right,e,r,i,s);var a=o(t);t.min=a.min,t.max=a.max}if(t.interval.low===e.low&&t.interval.high===e.high&&(null==r||t.d===r)&&(!i||i(t,e,r))){if(s.push({low:t.interval.low,high:t.interval.high,d:t.d}),this.length--,null===t.left)return t.right;if(null===t.right)return t.left;var c=n(t.right,u);t.interval=c.top.interval,t.d=c.top.d;var f=t.left;t.left=c.top.left,t.right=c.right,c.current===c.top?t.left=f:c.current.left=f,l(c.currentToTopArr)}return t},h.prototype.getDataInArray=function(){var t=new Array(this.length);return this.getArray(this.root,t,{iter:0}),t},h.prototype.getArray=function(t,e,r){if(null===t)return null;null!==t.left&&this.getArray(t.left,e,r),null!==t&&(e[r.iter++]={interval:{low:t.interval.low,high:t.interval.high},d:t.d}),null!==t.right&&this.getArray(t.right,e,r)},h.prototype.doOverlap=function(t,e){return t.low<=e.high&&e.low<=t.high},h.prototype.isExact=function(t,e){return t.low===e.low&&t.high===e.high},h.prototype.printHtmlTree=function(){return u(this.root,this.length)};var a=h,c=r(1);function f(t){var e,r;this.options=t,this.root=null,this.length=0,this.initialStackSize=2*(null==t||null===(e=t.data)||void 0===e?void 0:e.length)||(null==t?void 0:t.initialStackSize)||500,this.initialQueueSize=2*(null==t||null===(r=t.data)||void 0===r?void 0:r.length)||(null==t?void 0:t.initialQueueSize)||500,this.queue=new c.ArrayQueue({initialSize:this.initialQueueSize}),this.stack=new i.ArrayStack({initialSize:this.initialStackSize}),this.path=new i.ArrayStack({initialSize:this.initialStackSize}),this.result=new i.ArrayStack({initialSize:this.initialStackSize}),this.removeList=new i.ArrayStack({initialSize:this.initialStackSize}),Array.isArray(null==t?void 0:t.data)&&this.constructTree(t.data),delete this.options.data}f.prototype.constructor=f,f.prototype.constructNode=function(t){return{max:t.high,min:t.low,interval:{low:t.low,high:t.high},d:t.d,left:null,right:null}},f.prototype.constructTree=function(t){for(var e=t.length,r=0;r<e;r++)this.insert(t[r])},f.prototype.getRoot=function(){return this.root},f.prototype.insert=function(t){return this._insert(this.root,t)},f.prototype._insert=function(t,e){for(var r=this.constructNode(e),i=t,n=null;null!==i;)if(n=i,i.max<e.high&&(i.max=e.high),i.min>e.low&&(i.min=e.low),i.interval.low>e.low)i=i.left;else{if(i.interval.low===e.low)break;i=i.right}if(null===n)n=r,this.root=r;else if(n.interval.low>e.low)n.left=r;else if(n.interval.low===e.low){var l=n.left;n.left=r,n.left.left=l;var s=o(n.left);n.left.min=s.min,n.left.max=s.max}else n.right=r;return this.length++,r},f.prototype.find=function(t,e,r,i){return this._find(this.root,t,e,r,i)},f.prototype._find=function(t,e,r,i,n){if(!0===(i=i||!1)?i=this.isExact:!1===i&&(i=this.doOverlap),null===t)return null;for(;null!=t;){if(i(t.interval,e)&&(null==r||t.d===r)&&(!n||n(t,e,r)))return t;t=null!==t.left&&t.left.max>=e.low?t.left:t.right}return null},f.prototype.findAll=function(t,e,r,i){return this._findAll(this.root,t,e,r,i)},f.prototype._findAll=function(t,e,r,i,n){if(!0===(i=i||!1)?i=this.isExact:!1===i&&(i=this.doOverlap),this.stack.empty(),this.queue.empty(),this.queue.enqueue(t),null===t)return null;for(;!this.queue.isEmpty();){var l=this.queue.dequeue();!i(l.interval,e)||null!=r&&l.d!==r||n&&!n(l,e,r)||this.stack.push(l),null!==l.left&&l.left.max>=e.low&&this.queue.enqueue(l.left),null!==l.right&&l.right.min<=e.high&&this.queue.enqueue(l.right)}return this.stack.getData()},f.prototype.findUsingComparator=function(t,e,r){return this._findUsingComparator(this.root,t,e,r)},f.prototype._findUsingComparator=function(t,e,r,i){if(null===t)return[];var n;for(this.result.empty(),this.stack.empty(),this.stack.push(t);!this.stack.isEmpty();)e(n=this.stack.pop())&&this.result.push(n),null!==n.right&&i(n)&&this.stack.push(n.right),null!==n.left&&r(n)&&this.stack.push(n.left);return this.result.getData()},f.prototype.remove=function(t,e,r){return this._remove(this.root,t,e,r)},f.prototype._remove=function(t,e,r,i){var s=null,u=null,h=null,a=2*Math.ceil(Math.log2(this.length));if(this.stack.empty(),this.path.empty(),this.stack.push(t),null===t)return null;for(;!this.stack.isEmpty();){var c=this.stack.pop();if(c.interval.low===e.low&&c.interval.high===e.high&&(null==r||c.d===r)&&(!i||i(c,e,r))){if(h={low:c.interval.low,high:c.interval.high,d:c.d},this.length--,null===c.left)s?(s[u]=c.right,c=c.right):this.root=c.right;else if(null===c.right)s?(s[u]=c.left,c=c.left):this.root=c.left;else{var f=n(c.right,a);c.interval=f.top.interval,c.d=f.top.d;var p=c.left;c.left=f.top.left,c.right=f.right,f.current===f.top?c.left=p:f.current.left=p,l(f.currentToTopArr)}c&&this.path.push(c);break}this.path.push(c),null!==c.right&&c.interval.low<e.low?(s=c,u="right",this.stack.push(c.right)):null!==c.left&&c.interval.low>=e.low&&(s=c,u="left",this.stack.push(c.left))}for(;!this.path.isEmpty();){var v=this.path.pop(),g=o(v);v.min=g.min,v.max=g.max}return h},f.prototype.removeAll=function(t,e,r){return this._removeAll(this.root,t,e,r)},f.prototype._removeAll=function(t,e,r,i){var s=null,u=null,h=2*Math.ceil(Math.log2(this.length));if(this.removeList.empty(),this.stack.empty(),this.path.empty(),this.stack.push(t),null===t)return null;for(;!this.stack.isEmpty();){var a=this.stack.pop();if(a.interval.low!==e.low||a.interval.high!==e.high||null!=r&&a.d!==r||i&&!i(a,e,r))this.path.push(a),null!==a.right&&a.interval.low<e.low?(s=a,u="right",this.stack.push(a.right)):null!==a.left&&a.interval.low>=e.low&&(s=a,u="left",this.stack.push(a.left));else{if(this.removeList.push({low:a.interval.low,high:a.interval.high,d:a.d}),this.length--,null===a.left)s?(s[u]=a.right,a=a.right):this.root=a.right;else if(null===a.right)s?(s[u]=a.left,a=a.left):this.root=a.left;else{var c=n(a.right,h);a.interval=c.top.interval,a.d=c.top.d;var f=a.left;a.left=c.top.left,a.right=c.right,c.current===c.top?a.left=f:c.current.left=f,l(c.currentToTopArr)}a&&this.stack.push(a)}}for(;!this.path.isEmpty();){var p=this.path.pop(),v=o(p);p.min=v.min,p.max=v.max}return this.removeList.getData()},f.prototype.getSortedData=function(){if(null===this.root)return[];var t=new Array(this.length),e=0;this.stack.empty();for(var r=this.root;null!==r||!this.stack.isEmpty();){for(;null!==r;)this.stack.push(r),r=r.left;r=this.stack.pop(),t[e++]={interval:{low:r.interval.low,high:r.interval.high},d:r.d},r=r.right}return t},f.prototype.doOverlap=function(t,e){return t.low<=e.high&&e.low<=t.high},f.prototype.isExact=function(t,e){return t.low===e.low&&t.high===e.high},f.prototype.setData=function(t){this.emptyTree(),this.constructTree(t)},f.prototype.emptyTree=function(){this.root=null;for(var t=this.queue.queue.length,e=0;e<t;e++)this.queue.queue[e]&&(this.queue.queue[e].interval=null,this.queue.queue[e].d=null,this.queue.queue[e].left=null,this.queue.queue[e].right=null);t=this.stack.stack.length;for(var r=0;r<t;r++)this.stack.stack[r]&&(this.stack.stack[r].interval=null,this.stack.stack[r].d=null,this.stack.stack[r].left=null,this.stack.stack[r].right=null);t=this.path.stack.length;for(var i=0;i<t;i++)this.path.stack[i]&&(this.path.stack[i].interval=null,this.path.stack[i].d=null,this.path.stack[i].left=null,this.path.stack[i].right=null);t=this.result.stack.length;for(var n=0;n<t;n++)this.result.stack[n]&&(this.result.stack[n].interval=null,this.result.stack[n].d=null,this.result.stack[n].left=null,this.result.stack[n].right=null);t=this.removeList.stack.length;for(var l=0;l<t;l++)this.removeList.stack[l]&&(this.removeList.stack[l].interval=null,this.removeList.stack[l].d=null,this.removeList.stack[l].left=null,this.removeList.stack[l].right=null)},f.prototype.printHtmlTree=function(t){return u(this.root,this.length,t)};var p=f;r(4)}])}));